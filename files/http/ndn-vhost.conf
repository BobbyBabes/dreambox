#
# Virtual Hosts
# /usr/local/dh/apache2/apache2-dreambox/etc/extra/vhosts/
#

# Listen 80

<VirtualHost *:80>
  ServerAdmin webmaster@dreambox.http
  ServerName www.dreambox.http
  # ServerAlias dreambox.http

  DocumentRoot "/usr/local/dh/apache2/apache2-dreambox/htdocs"

  DirectoryIndex index.html index.shtml index.htm Index.html Index.htm Index.shtml default.htm Default.htm default.html Default.html default.shtml Default.shtml page1.html index.pl index.cgi index.php index.php3 index.phtml home.htm home.html home.shtml index.wml index.pcgi quickstart.html

  SSLEngine off
  # SSLCertificateFile /usr/local/dh/apache2/apache2-dreambox/etc/ssl.crt/apache.crt
  # SSLCertificateKeyFile /usr/local/dh/apache2/apache2-dreambox/etc/ssl.crt/apache.key

  # Run CGI scripts under specified user/group
  # SuexecUserGroup User Group

  # unique next line
  # SetEnv PHPRC /dh/etc/php-ini/dreambox.http./php.ini

  Alias /cgi-system /dh/cgi-system
  # CGI wrappers
  # - /usr/local/dh/cgi-system/php56.cgi
  # - /usr/local/dh/cgi-system/php70.cgi
  # - /usr/local/dh/cgi-system/php71.cgi
  Action php-cgi /cgi-system/php.cgi
  Action php5-cgi /cgi-system/php56.cgi

  <Directory "/usr/local/dh/apache2/apache2-dreambox/htdocs">
    AddHandler cgi-script .cgi .pl .py
    Options Includes Indexes SymLinksIfOwnerMatch ExecCGI
    AllowOverride All
    Order allow,deny
    Allow from all
    EnableSendfile Off

    AddHandler php-cgi .php4 .pcgi4
    AddHandler php5-cgi .php .php3 .phtml .pcgi .php5 .pcgi5
    #RewriteCond %{QUERY_STRING} ../proc/self/environ [NC]
    #RewriteRule .* - [F,L]

    <Files .php.>
      RemoveHandler .php
    </Files>

    <Files .php4.>
      RemoveHandler .php4
    </Files>

    <Files .php5.>
      RemoveHandler .php5
    </Files>

    AddHandler fcgid-script fcg fcgi fpl
    AddHandler fcgid-script .php .phtml .php5 .pcgi5

    FCGIWrapper "/usr/local/dh/cgi-system/php56.cgi" .php
    FCGIWrapper "/usr/local/dh/cgi-system/php56.cgi" .phtml
    FCGIWrapper "/usr/local/dh/cgi-system/php56.cgi" .pcgi
    FCGIWrapper "/usr/local/dh/cgi-system/php56.cgi" .php5
    FCGIWrapper "/usr/local/dh/cgi-system/php56.cgi" .pcgi5
  </Directory>

  # Possible values include: debug, info, notice, warn, error, crit, alert, emerg.
  LogLevel warn
  ErrorLog "/var/log/apache2/dreambox/dreambox.http/error.log"
  CustomLog "/var/log/apache2/dreambox/dreambox.http/access.log" common
  # Alias /stats /var/log/apache2/dreambox/dreambox.http/html

</VirtualHost>
